% !TeX root = vpl.tex

\chapter*{Preface}

\sect{What is a robot?}

You are riding your bicycle and suddenly you see that the street starts
to go uphill. You pedal faster to supply more power to the wheels so
that the bicycle won't slow down. When you reach the top of the hill and
start to go downhill, you squeeze the brake lever. This causes a rubber
pad to be pressed against the wheel and the bicycle slows down.
When you ride a bicycle, your eyes are \textit{sensors} that sense what is
going on in the world. When these sensors---your eyes---detect an
\textit{event} such as a curve in the street, you perform an
\textit{action}, such as moving the handlebar left or right.

In a car, there are sensors that \textit{measure} what is going on in the
world. The speedometer measures how fast the car is going; if you see it
measuring a speed higher than the limit, you might tell the driver that
he is going too fast. In response, he can perform an action, such as
stepping on the brake pedal to slow the car down. The fuel meter
measures how much fuel remains in the car; if you see that it is too
low, you can tell the driver to find a gas station. In response, she can
perform an action: raise the turn-signal lever to indicate a right turn
and turn the steering wheel in order to drive into the station.

The rider of the bicycle and the driver of the car receive data from
the sensors, decide what actions to take and cause the actions to be
performed. A \textit{robot} is a system where this process---receive data,
decide upon an action, perform the action---is carried out by a
computerized system, usually without the participation of a human.

\sect{The Thymio-II robot and the Aseba VPL environment}

The Thymio II is a small robot intended for educational purposes
(\cref{fig.front}). The robot includes sensors that can measure
light, sound and distance, and can detect when buttons are touched and
when the robot's body is tapped. The most important action that it can
perform is to move using two wheels, each powered by its own motor.
Other actions include generating sound and turning lights on and off.

In the rest of this document, the Thymio~II robot will be called simply Thymio.
It will always refer to the version II of the robot.

Aseba is a programming environment for small mobile robots such as the Thymio.
VPL is a component of Aseba for \textit{visual programming} that was designed to program Thymio in an easy way through event and action blocks.
This tutorial assumes that you have Aseba installed on your computer; if it is not the case, go to \url{https://aseba.wikidot.com/en:downloadinstall}, select your operating system, download and install.

\sect{Reference cards}

You will find it useful to print out one or both of the following reference
cards:\footnote{The links can be found on the page \textit{Programming Thymio II}:\\
\url{https://aseba.wikidot.com/en:thymioprogram}.}

\begin{itemize}
\item \url{https://aseba.wdfiles.com/local--files/en:thymioprogram/thymio-vpl-ref-card-en.pdf}\\
A single page that summarizes the event and action blocks.
\item \url{https://aseba.wdfiles.com/local--files/en:thymioprogram/thymio-vpl-folding-ref-card-en.pdf}\\
A double page that can be folded in three to form a handy card.
It summarizes the VPL interface, the event and action blocks, and includes example programs.
\end{itemize}

\sect{Chapter summary}

Here is an overview of the chapters of this tutorial.
For each chapter, we give the main topic covered as well as lists
of the event and action blocks that are introduced.
You can use the overview to decide what chapters to use
and in what order, according to the guidance given below.

{\centering \textbf{Chapter \ref{ch.intro}}\\}
Topics: Thymio robot, Aseba environment.

Events: Buttons \blkmed{event-buttons}.

Actions: Top colours \blkmed{action-colors-up-white}.

\bigskip
\bigskip

{\centering \textbf{Chapter \ref{ch.colors}}\\}
Topics: Event-action pairs.

Events: Buttons \blkmed{event-buttons}.

Actions: Top colours \blkmed{action-colors-up-white},
bottom colours \blkmed{action-colors-down-white}.

\bigskip
\bigskip

{\centering \textbf{Chapter \ref{ch.moving}}\\}
Topics: Moving, sensing.

Events: Buttons \blkmed{event-buttons}, bottom sensors \blkmed{event-ground}.

Actions: Motors \blkmed{action-motors}.

\bigskip
\bigskip

{\centering \textbf{Chapter \ref{ch.pet}}\\}
Topics: Feedback control, motor speeds.

Events: Front sensors \blkmed{event-prox}.

Actions: Motors \blkmed{action-motors}.

\bigskip
\bigskip

{\centering \textbf{Chapter \ref{ch.line}}\\}
Topics: Line following.

Events: Bottom sensors \blkmed{event-ground}.

Actions: Motors \blkmed{action-motors}.

\bigskip
\bigskip

{\centering \textbf{Chapter \ref{ch.bells}}\\}
Topics: Sound, shocks.

Events: Tap \blkmed{event-tap}, clap \blkmed{event-clap}.

Actions: Music \blkmed{action-music},
Top colours \blkmed{action-colors-up-white},
bottom colours \blkmed{action-colors-down-white}.

\bigskip
\bigskip

{\centering \textbf{Chapter \ref{ch.time}}\\}
Topics: Timers.

Events: Timer expired \blkmed{event-timer}.

Actions: Set timer \blkmed{action-timer}.

\bigskip
\bigskip

{\centering \textbf{Chapter \ref{ch.states}}\\}
Topics: States.

Events: State associated with an event (advanced)
\blkmed{tap-turn-on-state-only}.

Actions: Change state (advanced) \blk{action-states}.

\bigskip
\bigskip

{\centering \textbf{Chapter \ref{ch.counting}}\\}
Topics: Counting, binary arithmetic.

Events: State associated with an event (advanced) \blkmed{tap-turn-on-state-only}.

Actions: Change state (advanced) \blk{action-states}.

\bigskip
\bigskip

{\centering \textbf{Chapter \ref{ch.next}}\\}
Topics: Aseba studio environment.

\bigskip


\sect{Guidance}

Chapters~\ref{ch.intro}--\ref{ch.colors} are an essential introduction
to the robot, the environment and to the principal programming construct---the
event-action pair.

Chapters~\ref{ch.moving}--\ref{ch.line} present the events, actions and algorithms
for constructing autonomous mobile robots and should be the core of any
activity using the system.

Chapter~\ref{ch.bells} describes features of the robot that can
be fun to use but are not essential. You can skip the chapter or you can 
use it immediately after the introductory chapters
for a more gentler introduction to robotics.

Chapter~\ref{ch.time} shows how to use timed events.
This is an important topic but is independent of the others
and can be skipped if time is lacking.

Chapter~\ref{ch.states} uses features available in the advanced mode of VPL.
State machines are a fundamental construct used in robotics and this material
should be used in activities with students who are sufficiently mature to understand it. Chapter~\ref{ch.counting} is an optional chapter that shows
how to use states to implement arithmetic.

Chapter~\ref{ch.next} points to the next step: using
the textual Studio environment which offers significantly more support for
developing robots than does the VPL environment.
