\chapter*{Preface}

\sect{What is a robot?}

You are riding your bicycle and suddenly you see that the street starts
to go uphill. You pedal faster to supply more power to the wheels so
that the bicycle won't slow down. When you reach the top of the hill and
start to go downhill, you squeeze the brake lever. This causes a rubber
pad to be pressed against the wheel and the bicycle slows down. When you
ride a bicycle, your eyes are \textit{sensors} that sense what is going
on in the world. When these sensors---your eyes---detect an
\textit{event} such as a curve in the street, you perform an
\textit{action}, such as moving the handlebar left or right.

In a car, there are sensors that \textit{measure} what is going on in
the world. The speedometer measures how fast the car is going; if you
see it measuring a speed higher than the limit, you might tell the
driver that he is going too fast. In response, he can perform an action,
such as stepping on the brake pedal to slow the car down. The fuel meter
measures how much fuel remains in the car; if you see that it is too
low, you can tell the driver to find a gas station. In response, he can
perform an action: raise the turn-signal lever to indicate a right turn
and turn the steering wheel in order to drive into the station.

The rider of the bicycle and the driver of the car receive data from the
sensors, decide what actions to take and cause the actions to be
performed. A \textit{robot} is a system where this process is carried out by a
computerized system, usually without the participation of a human.

\sect{The Thymio robot and the Aseba VPL environment}

The Thymio is a small robot intended for educational purposes
(\cref{fig.front}). The robot includes sensors that can measure light,
sound and distance, and can detect when buttons are touched and when the
robot's body is tapped. The most important action that it can perform is
to move using two wheels, each powered by its own motor. Other actions
include generating sound and turning lights on and off.

The name Thymio is used in this document to refer to the Thymio~II
robot.

Aseba is a programming environment for small mobile robots such as the
Thymio. VPL is a component of Aseba for \textit{visual programming} that
was designed to program Thymio in an easy way through event and action
blocks.

%\newpage

\sect{Overview of the tutorial}

For each chapter, we give the main topic, as well as lists of the event
and action blocks that are introduced. I suggest that you start with the
tutorial chapters on VPL basic mode. Then, you can study the tutorial on
advanced mode, or try some of the projects. The Parsons puzzles can be
tried whenever you feel the need to evaluate your knowledge of VPL.
Read the \cref{ch.next} when you are ready to leave VPL and work with
the more advanced Aseba Studio environment. The appendices contain
reference material that can be read as needed.

\subsection*{Part I: Tutorial}

\textbf{\cref{ch.intro,ch.colors}} are an essential
introduction to the robot, the VPL environment and its principal
programming construct: the event-actions pair.

\textbf{Events}: Buttons \hfill \textbf{Actions}: Top colors, bottom colors

\blkmed{event-buttons} \hfill \blkmed{action-colors-up} \quad \blkmed{action-colors-down}

\medskip

\textbf{\cref{ch.moving,ch.pet,ch.line}} present the events,
actions and algorithms for constructing autonomous mobile robots and
should be the core of any activity using Thymio and VPL.

\textbf{Events}: Buttons, front sensors, bottom sensors \hfill
\textbf{Actions}: Motors

\blkmed{event-buttons} \quad\blkmed{event-prox}\quad \blkmed{event-prox-ground} \hfill
\blkmed{action-motors}

\medskip

\textbf{\cref{ch.bells}} describes features of the robot that can
be fun to use but are not essential: sounds and shocks.

\textbf{Events}: Tap, clap \hfill \textbf{Actions}: Music, top colors,
bottom colors

\blkmed{event-tap} \quad \blkmed{event-clap} \hfill \blkmed{action-music}
\quad \blkmed{action-colors-up} \quad \blkmed{action-colors-down}

\medskip

\importantbox[Advanced mode]{VPL has a basic mode which supports
elementary events and actions that are easy for beginners to master. The
advanced mode of VPL supports more events and actions that require
experience to use. Explanations of the features of advanced mode
start in \cref{ch.time}.}

\medskip

\textbf{\cref{ch.time}} presents timed events. There is an action
to set a timer and when the timer expires, an event occurs.

\textbf{Events}: Timer expired \hfill \textbf{Actions}: Set timer

\blkmed{event-timer} \hfill \blkmed{action-timer}

\newpage

\textbf{\cref{ch.states,ch.counting}} explains state machines, which
enable the robot to perform different operations at different times.
States can also be used to perform elementary arithmetic like counting.

\textbf{Events}: State associated with an event \hfill \textbf{Actions}:
Change state

\blkmed{state-filter} \hfill \blkmed{action-states}

\medskip

\textbf{\cref{ch.angles}} describes how to use the accelerometers
in the Thymio robot.

\textbf{Events}: Accelerometer events

\blkmed{event-pitch} \quad \blkmed{event-roll}

\bigskip

\subsection*{Part II: Parsons puzzles}

\textbf{\cref{ch.parsons}} presents Parsons puzzles which are exercises
that you can use to check your knowledge of VPL.

\bigskip

\subsection*{Part III: Projects}

\textbf{\cref{ch.brait,ch.rabbit,ch.barcode,ch.sweep,ch.speed,ch.radar,ch.fa,ch.slow}}
specify projects that you can design and implement on your own.
The VPL source is available in the archive, but I suggest that you work
on the projects before looking at the solutions.

\bigskip

\subsection*{Part IV: From visual to textual programming}

\textbf{\cref{ch.next}} points to the next step: using the
textual Studio environment which offers significantly more support for
developing robots than does the VPL environment.

%\informationbox{Reference material}{The appendices contains reference
%material that you will want to look at from time to time to learn about
%new featuers of VPL or to refresh your memory.}

\subsection*{Part V: Appendices}

\textbf{\cref{a.toolbar}} contains a description of the user
interface---the buttons on the toolbar.
%It also describes how to display dynamic feedback when a VPL program is run.

\textbf{\cref{a.blocks}} is a list of the event and
action blocks in both basic and advanced modes.

\textbf{\cref{a.tips}} provides guidance for teachers and
mentors of students. The first section suggests ways to encourage
exploration and experimentation. The next section focuses on good
programming practices. The final section lists some pitfalls that may be
encountered and offers hints on how to overcome them.

\textbf{\cref{a.tech}} describes techniques for working with the
sliders of the sensor and motor blocks.

\blkmed{event-prox-advanced} \quad \blkmed{event-prox-ground-advanced}


\sect{Reference cards}

You will find it useful to print out one or both of the VPL reference cards,
which are in the same zip file as this document and also available
at \href{https://www.thymio.org/en:visualprogramming}{https://www.thymio.org/en:visualprogramming}.

\begin{itemize}
\item A single page that summarizes the event and action blocks.
\item A two-sided page that can be folded to form a handy card.
It summarizes the VPL interface, the event and action blocks,
and includes example programs.
\end{itemize}

\sect{Installing Aseba}

To install Aseba, including VPL, go to
\href{https://www.thymio.org/en:start}{https://www.thymio.org/en:start}
and click on the icon for your system (Windows, Mac OS, etc.). Following
the instructions to download and install the software. The Aseba
installation includes both the VPL and the Studio (see \cref{ch.next})
development environments.
