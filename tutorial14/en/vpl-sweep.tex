\chap{Sweeping the Floor}\label{ch.sweep}

Are you tired of cleaning your house? Now there are \emph{robotic vacuum
cleaners} that can do the job for you! The robot systematically moves
over the floor of your apartment, navigating around furniture and other
obstacles, while it vacuums the dirt.

\textbf{Specification}

When the forwards button is touched, the Thymio robot travels from one
side of the room to the opposite side, turns, moves a few steps and then
returns to the first side:
\begin{center}
\begin{picture}(200,30)
%\put(0,0){\framebox(200,30){}}
\put(0,30){\vector(1,0){200}}
\put(200,30){\vector(0,-1){30}}
\put(200,0){\vector(-1,0){200}}
\end{picture}
\end{center}

\textbf{Guidance}

There are three subtasks that the robot must implement: (1) move the
length of the room (to the right or to the left), (2) turn right, (3)
move a few steps down. The subtasks are performed in the following
order:

\begin{center}
\begin{picture}(380,20)
%\put(0,0){\framebox(380,20){}}
\put(30,10){\oval(60,20)}
\put(110,10){\oval(60,20)}
\put(190,10){\oval(60,20)}
\put(270,10){\oval(60,20)}
\put(350,10){\oval(60,20)}
\put(0,0){ \makebox(60,20){move long}}
\put(80,0){\makebox(60,20){turn right}}
\put(160,0){\makebox(60,20){move short}}
\put(240,0){\makebox(60,20){turn right}}
\put(320,0){\makebox(60,20){move long}}
\put( 60,10){\vector(1,0){20}}
\put(140,10){\vector(1,0){20}}
\put(220,10){\vector(1,0){20}}
\put(300,10){\vector(1,0){20}}
\end{picture}
\end{center}

The robot will use states to keep track of which subtask it is
performing. The direction and amount of movement for each subtask is
determined by the speeds of the left and right motors, and by the length
of time that the motors run. Therefore, each subtask will be implemented
by an event-actions pair, where the event is the expiration of the timer
for the previous subtask and the actions are to set the following
parameters for the next subtask: (1) the state; (2) the left and right
motor speeds; (3) the timer period. The program is initiated by a button event.

You will have to experiment with the speeds and the timer period to
cause the robot to follow the required rectangular path.

\bigskip

{\raggedleft \hfill \textbf{Program file} \bu{sweep.aesl}}

For fun, add colors to the top lights: green for straight, yellow for turn
and red for stop.

\bigskip

{\raggedleft \hfill \textbf{Program file} \bu{sweep1.aesl}}
